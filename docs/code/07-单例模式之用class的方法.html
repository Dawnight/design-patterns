<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>单例模式之用class的方法</title>
</head>
<body>
<script>
class Singleton {
    static _instance = null;

    /**
     * @return {null}
     */
    constructor() {
        if(Singleton._instance) {
            return Singleton._instance;
        }
        Singleton._instance = this;
    }

    static getInstance() {
        if(Singleton._instance) {
            return Singleton._instance;
        }
        return Singleton._instance = new Singleton();
    }

    login() {
        console.log('login...');
    }

}

let obj1 = Singleton.getInstance();
obj1.login();

let obj2 = Singleton.getInstance();
obj2.login();
console.log('obj1 === obj2', obj1 === obj2);

let obj3 = new Singleton();
obj3.login();
console.log('obj1 === obj3', obj1 === obj3);

</script>
</body>
</html>
