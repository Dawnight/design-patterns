<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>代理模式01</title>
  <style>
    .red {
      background: red;
    }
  </style>
  <script src="https://cdn.bootcss.com/jquery/1.9.1/jquery.js"></script>
</head>
<body>

<div id="div1">
  <a href="#">1</a>
  <a href="#">2</a>
  <a href="#">3</a>
  <a href="#">4</a>
  <a href="#">5</a>
</div>

<div id="div2">
  <a href="#">6</a>
  <a href="#">7</a>
  <a href="#">8</a>
  <a href="#">9</a>
  <a href="#">10</a>
</div>

<div id="div3">
  <a href="#">11</a>
  <a href="#">12</a>
  <a href="#">13</a>
  <a href="#">14</a>
  <a href="#">15</a>
</div>

<div id="div4">
  <a href="#">16</a>
  <a href="#">17</a>
  <a href="#">18</a>
  <a href="#">19</a>
  <a href="#">20</a>
</div>

<div id="div5">
  <a href="#">21</a>
  <a href="#">22</a>
  <a href="#">23</a>
  <a href="#">24</a>
  <a href="#">25</a>
</div>

<script>
  const div1 = document.getElementById('div1');
  div1.addEventListener('click', function (e) {
    e.preventDefault();
    let target = e.target;
    if (target.nodeName === 'A') {
      console.log(target.innerHTML);
    }
  });

  const div2 = document.getElementById('div2');
  div2.addEventListener('click', function (e) {
    setTimeout(function () {
      console.log(this.innerHTML);
    }.bind(this));
  });

  const div3 = $('#div3');
  div3.click(function () {
    $(this).addClass('red');
  });

  const div4 = $('#div4');
  div4.click(function () {
    setTimeout(function () {
      $(this).addClass('red');
    }.bind(this));
  });

  // 使用 $.proxy
  const div5 = $('#div5');
  div5.click(function () {
    setTimeout($.proxy(function () {
      $(this).addClass('red');
    }, this));
  });

</script>


</body>
</html>
