<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>单例模式之loginForm举例</title>
</head>
<body>
<script>
  class LoginForm {
    constructor() {
      this.state = false;
    }

    show() {
      if (this.state) {
        console.log('已经显示登录框');
        return;
      }
      this.state = true;
      console.log('登录框已显示')
    }

    hide() {
      if (!this.state) {
        console.log('已经隐藏登录框');
        return;
      }
      this.state = false;
      console.log('登录框已隐藏');
    }
  }

  LoginForm.getInstance = (function () {
    let instance;
    return function () {
      if (!instance) {
        instance = new LoginForm();
      }
      return instance;
    }
  })();


  let login1 = LoginForm.getInstance();
  login1.show();

  let login2 = LoginForm.getInstance();
  login2.hide();

  console.log('login1 === login2', login1 === login2);
</script>
</body>
</html>
